<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Reseller Portal</title>
    <style>
        /* Dark Theme Styles */
        body { background: #121212; color: #fff; font-family: sans-serif; display: flex; justify-content: center; align-items: center; min-height: 100vh; flex-direction: column; }
        .container { background: #1e1e1e; padding: 30px; border-radius: 10px; width: 90%; max-width: 400px; border: 1px solid #bb86fc; }
        input { width: 100%; padding: 10px; margin: 10px 0; background: #333; border: 1px solid #555; color: #fff; box-sizing: border-box; }
        button { width: 100%; padding: 10px; background: #bb86fc; border: none; font-weight: bold; cursor: pointer; margin-top: 10px; }
        .hidden { display: none; }
    </style>
</head>
<body>

    <div id="loginSection" class="container">
        <h2 style="text-align: center;">Reseller Login</h2>
        <input type="text" id="username" placeholder="Username (admin)">
        <input type="password" id="password" placeholder="Password (admin123)">
        <button onclick="login()">Login</button>
        <p style="text-align: center; font-size: 0.8em; margin-top: 10px;">Not a reseller? <a href="#" onclick="showRegister()">Register</a></p>
    </div>

    <div id="registerSection" class="container hidden">
        <h2>Reseller Registration</h2>
        <form onsubmit="sendRegToWhatsapp(event)">
            <input type="text" id="reg-fname" placeholder="First Name" required>
            <input type="text" id="reg-lname" placeholder="Last Name" required>
            <input type="text" id="reg-business" placeholder="Business Name">
            <input type="tel" id="reg-wp" placeholder="WhatsApp Number" required>
            <input type="email" id="reg-email" placeholder="Email" required>
            <input type="text" id="reg-user" placeholder="Desired Username" required>
            <input type="password" id="reg-pass" placeholder="Password" required>
            <input type="number" id="reg-age" placeholder="Age" required>
            <button type="submit">Submit via WhatsApp</button>
        </form>
        <button onclick="showLogin()" style="background: #333; color: #fff;">Back to Login</button>
    </div>

    <div id="dashboardSection" class="container hidden" style="max-width: 800px;">
        <h2>Reseller Dashboard</h2>
        <p>Welcome back! Create an order for your customer.</p>
        
        <div style="background: #333; padding: 15px; border-radius: 5px;">
            <h3>Create Dropship Order</h3>
            <label>Product Name/ID:</label>
            <input type="text" id="d-product" placeholder="e.g., Oil Sprayer">
            
            <label>Original Price (LKR):</label>
            <input type="number" id="d-cost" value="1500" readonly style="background:#555">
            
            <label>Your Profit (LKR):</label>
            <input type="number" id="d-profit" placeholder="Add your margin (e.g., 500)">
            
            <label>Customer Details:</label>
            <input type="text" id="d-cname" placeholder="Customer Name">
            <input type="text" id="d-caddress" placeholder="Customer Address">
            <input type="tel" id="d-cphone" placeholder="Customer Phone">
            
            <button onclick="sendDropshipOrder()">Submit Order</button>
        </div>
        
        <button onclick="location.reload()" style="background: red; margin-top: 20px;">Logout</button>
    </div>

    <script>
        function login() {
            const u = document.getElementById('username').value;
            const p = document.getElementById('password').value;
            
            if(u === 'admin' && p === 'admin123') {
                document.getElementById('loginSection').style.display = 'none';
                document.getElementById('dashboardSection').style.display = 'block';
                document.getElementById('dashboardSection').classList.remove('hidden');
            } else {
                alert('Invalid Credentials!');
            }
        }

        function showRegister() {
            document.getElementById('loginSection').style.display = 'none';
            document.getElementById('registerSection').style.display = 'block';
        }

        function showLogin() {
            document.getElementById('registerSection').style.display = 'none';
            document.getElementById('loginSection').style.display = 'block';
        }

        function sendRegToWhatsapp(e) {
            e.preventDefault();
            const fname = document.getElementById('reg-fname').value;
            const wp = document.getElementById('reg-wp').value;
            // ... collect other fields ...
            
            let msg = `*New Reseller Request*\nName: ${fname}\nWhatsApp: ${wp}\nPlease approve.`;
            window.open(`https://wa.me/94775048455?text=${encodeURIComponent(msg)}`, '_blank');
        }

        function sendDropshipOrder() {
            const product = document.getElementById('d-product').value;
            const cost = document.getElementById('d-cost').value;
            const profit = document.getElementById('d-profit').value;
            const cname = document.getElementById('d-cname').value;
            
            let total = parseInt(cost) + parseInt(profit);
            
            let msg = `*DROPSHIP ORDER*\n`;
            msg += `Reseller: admin\n`; // In real app, dynamic name
            msg += `Product: ${product}\n`;
            msg += `Base Cost: ${cost}\n`;
            msg += `Reseller Profit: ${profit}\n`;
            msg += `Collect from Customer: ${total}\n`;
            msg += `\n*Customer Details:*\nName: ${cname}`;
            
            window.open(`https://wa.me/94775048455?text=${encodeURIComponent(msg)}`, '_blank');
        }
    </script>
</body>
</html>
